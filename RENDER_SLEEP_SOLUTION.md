# Render無料プランのスリープ問題と解決策

## ❌ 問題

Renderの無料プランでは：
- **15分間アクセスがないとスリープする**
- **スリープ中はアプリが動作していない**
- **自動的なLINE通知は送信できない**

## ✅ 解決策

### 方法1: 外部スケジューラーサービスを使用（推奨・無料）

外部サービスを使って、定期的にアプリにHTTPリクエストを送信し、通知を送信します。

#### cron-job.orgを使用（無料）

1. **cron-job.orgに登録**
   - https://cron-job.org/ にアクセス
   - 無料アカウントを作成

2. **新しいcronジョブを作成**
   - 「Create cronjob」をクリック
   - 以下の設定を行う：
     - **Title**: `Todo List LINE通知`
     - **Address**: `https://todo-list-app-h6za.onrender.com/send-line-notifications`
     - **Schedule**: 毎日、希望する時刻（例: 朝9時）
     - **Request method**: `POST`
     - **Save**をクリック

3. **動作確認**
   - 設定した時刻に、アプリが起動して通知が送信されます

#### その他の無料スケジューラーサービス

- **UptimeRobot**: https://uptimerobot.com/
- **Cronitor**: https://cronitor.io/
- **EasyCron**: https://www.easycron.com/

### 方法2: 有料プランにアップグレード

Renderの有料プラン（$7/月〜）を使用すると：
- **常時起動**
- **自動的な通知が可能**
- **スリープしない**

### 方法3: 手動で通知を送信

アプリにアクセスして、手動で通知を送信することもできます（現在はボタンが削除されていますが、エンドポイントは存在します）。

## 🔧 実装方法（cron-job.orgの場合）

### ステップ1: 通知エンドポイントを確認

現在、以下のエンドポイントが存在します：
```
POST https://todo-list-app-h6za.onrender.com/send-line-notifications
```

### ステップ2: cron-job.orgで設定

1. **新しいcronジョブを作成**
2. **URL**: `https://todo-list-app-h6za.onrender.com/send-line-notifications`
3. **Method**: `POST`
4. **Schedule**: 毎日、希望する時刻（例: 朝9時）
5. **保存**

### ステップ3: 動作確認

- 設定した時刻に、cron-job.orgがアプリにHTTPリクエストを送信
- アプリが起動（スリープから復帰）
- 通知が送信される

## 📋 推奨設定

### 通知チェックの頻度

- **毎日1回**: 朝9時（推奨）
- **毎日2回**: 朝9時と夜9時
- **毎時間**: より確実だが、無料プランの制限に注意

### 注意事項

1. **スリープからの復帰**: 初回アクセス時に30秒程度かかる
2. **通知のタイミング**: 設定した時刻に通知が送信される
3. **無料プランの制限**: 月750時間まで

## 💡 まとめ

| 方法 | 費用 | 自動通知 | 推奨度 |
|------|------|----------|--------|
| **外部スケジューラー** | 無料 | ✅ 可能 | ⭐⭐⭐ |
| **有料プラン** | $7/月〜 | ✅ 可能 | ⭐⭐ |
| **手動送信** | 無料 | ❌ 不可 | ⭐ |

**推奨**: cron-job.orgなどの外部スケジューラーサービスを使用

