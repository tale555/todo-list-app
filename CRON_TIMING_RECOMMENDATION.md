# cron-job.orgの設定時刻の推奨

## 🎯 日が変わる時（深夜0時）に設定する理由

### ✅ メリット

1. **正確な期日判定**
   - 日が変わる瞬間にチェックすることで、その日の期日を確実に検出できます
   - 「当日」の判定が正確になります

2. **3日前・前日・当日の判定が正確**
   - 日付が変わる瞬間にチェックするため、期日の計算が正確です
   - 例: 12月1日が期日の場合、11月28日（3日前）、11月30日（前日）、12月1日（当日）に正確に通知が送信されます

3. **確実な通知**
   - その日の期日を確実に検出できるため、通知が漏れることがありません

### ⚠️ デメリット

1. **通知のタイミングが深夜**
   - 深夜0時に通知が届くため、すぐに確認できない可能性があります
   - 朝起きた時に通知を見ることになります

## 🕐 推奨設定

### オプション1: 深夜0時（日が変わる時）⭐ 推奨

**設定**:
```
Minutes: 0
Hours: 0
Days: *
Months: *
Weekdays: *
```

**メリット**:
- 正確な期日判定
- その日の期日を確実に検出

**デメリット**:
- 通知が深夜に届く

### オプション2: 朝9時

**設定**:
```
Minutes: 0
Hours: 9
Days: *
Months: *
Weekdays: *
```

**メリット**:
- 通知を朝に受け取れる
- すぐに確認できる

**デメリット**:
- その日の期日を検出するのが少し遅れる（朝9時まで待つ）

### オプション3: 深夜0時と朝9時の2回

**設定**: 2つのcronジョブを作成
1. 深夜0時: `0 0 * * *`
2. 朝9時: `0 9 * * *`

**メリット**:
- 正確な期日判定（深夜0時）
- 朝に通知を確認できる（朝9時）

**デメリット**:
- 設定が少し複雑

## 💡 推奨設定

### 基本的な使い方: 深夜0時

**推奨**: 深夜0時に設定することをお勧めします

**理由**:
- 正確な期日判定ができる
- その日の期日を確実に検出できる
- 朝起きた時に通知を確認できる

### 設定方法（cron-job.org）

1. **Title**: `Todo List LINE通知（深夜0時）`
2. **Address**: `https://todo-list-app-h6za.onrender.com/send-line-notifications`
3. **Schedule**:
   - **Minutes**: `0`
   - **Hours**: `0`
   - **Days**: `*`
   - **Months**: `*`
   - **Weekdays**: `*`
4. **Request method**: `GET`
5. **Save**

## 📊 動作例

### 例：12月1日が期日のTodo

**11月28日 0:00**: cronが実行
- 期日が3日前 → **LINE通知を送信** 📱

**11月30日 0:00**: cronが実行
- 期日が前日 → **LINE通知を送信** 📱

**12月1日 0:00**: cronが実行
- 期日が当日 → **LINE通知を送信** 📱

## ✅ まとめ

- **推奨設定**: 深夜0時（日が変わる時）
- **理由**: 正確な期日判定ができる
- **通知のタイミング**: 深夜0時に通知が届く（朝起きた時に確認）

詳細は `CRON_JOB_SETUP.md` を参照してください。

